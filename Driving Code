//define 5 motion states
#define STOP       0
#define FORWARD   1
#define BACKWARD   2
#define TURNLEFT   3
#define TURNRIGHT  4

//define the left and right sides of motors' control pins
int IN1 = 7;//leftMotor_1
int IN2 = 6;//leftMotor_2

int IN3 = 9;//rightMotor_1
int IN4 = 10;//rightMotor_2

int ENA = 5;//PWM1
int ENB = 11;//PWM2

unsigned long time = 240;  //delay time
unsigned long time_s = 5000; //stop time
int value = 200;  //the duty cycle

    //go straight
  void gostraight(void)
  {
    //the left motor rotates forward, the right motor rotates forward
    digitalWrite(IN1,HIGH);
    digitalWrite(IN2,LOW);
    digitalWrite(IN3,LOW);
    digitalWrite(IN4,HIGH);
    }
  
  //retreat
  void retreat(void)
  {
    //the left motor rotates reversed, the right motor rotates reversed
    digitalWrite(IN1,LOW);
    digitalWrite(IN2,HIGH);
    digitalWrite(IN3,HIGH);
    digitalWrite(IN4,LOW);
    }
    //turn left
  void turnleft(void)
  {
    //the left motor rotates reversed, the right motor rotates forward
    digitalWrite(IN1,LOW);
    digitalWrite(IN2,HIGH);
    digitalWrite(IN3,LOW);
    digitalWrite(IN4,HIGH);
    }

    //turn right
  void turnright(void)
  {
    //the left motor rotates forward, the right motor rotates reversed
    digitalWrite(IN1,HIGH);
    digitalWrite(IN2,LOW);
    digitalWrite(IN3,HIGH);
    digitalWrite(IN4,LOW);
    }

    //stop
   void stopCar(void)
  {
    //the left motor brakes, the right motor brakes
    digitalWrite(IN1,LOW);
    digitalWrite(IN2,LOW);
    digitalWrite(IN3,LOW);
    digitalWrite(IN4,LOW);
    }

void setup() {
  // set pins as output
  pinMode(IN1, OUTPUT);
  pinMode(IN2, OUTPUT);
  pinMode(IN3, OUTPUT);
  pinMode(IN4, OUTPUT);
  pinMode(ENA, OUTPUT);
  pinMode(ENB, OUTPUT);


}

void loop() {
    analogWrite(ENA,value);//set speed
    analogWrite(ENB,value);//set speed
    gostraight();
    delay(time);
    stopCar();
    delay(time);
    //retreat();
   // delay(time);
    turnleft();
    delay(time);
   // turnright();
    //delay(time);
   // gostraight();
   // delay(time);
    stopCar();
    delay(time);
}
